CREATE DATABASE hospital; 
use hospital;
CREATE TABLE PACIENTES (
    ID_PACIENTE VARCHAR (255) PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    APELLIDO VARCHAR(100) NOT NULL,
    EDAD INT NOT NULL,
    RH VARCHAR(5),
    EPS VARCHAR(100),
    GENERO VARCHAR(10) NOT NULL,
    DOC_IDENTIDAD VARCHAR(50),
    TELEFONO VARCHAR(20),
    CORREO VARCHAR(100)
);
INSERT INTO PACIENTES (ID_PACIENTE, NOMBRE, APELLIDO, EDAD, RH, EPS, GENERO, DOC_IDENTIDAD, TELEFONO, CORREO) VALUES
('PAC0001', 'JUAN', 'PEREZ', 30, 'O+', 'SURA', 'MASCULINO', '12345678', '3001234567', 'juan.perez@example.com'),
('PAC0002', 'MARIA', 'GOMEZ', 25, 'A-', 'COLSANITAS', 'FEMENINO', '87654321', '3109876543', 'maria.gomez@example.com'),
('PAC0003', 'CARLOS', 'RODRIGUEZ', 35, 'B+', 'SALUD TOTAL', 'MASCULINO', '11223344', '3205678901', 'carlos.rodriguez@example.com'),
('PAC0004', 'ANA', 'MARTINEZ', 28, 'AB-', 'COOMEVA', 'FEMENINO', '44332211', '3007654321', 'ana.martinez@example.com'),
('PAC0005', 'LUIS', 'FERNANDEZ', 40, 'O-', 'NUEVA EPS', 'MASCULINO', '55443322', '3203456789', 'luis.fernandez@example.com');

SELECT * FROM PACIENTES

CREATE TABLE RELACION_PACIENTE_MEDICO (ID_RELACION_MEDPAC VARCHAR (255) PRIMARY KEY, ID_MEDICO VARCHAR (255), ID_PACIENTE VARCHAR(255));
SELECT * FROM RELACION_PACIENTE_MEDICO
DROP TABLE RELACION_PACIENTE_MEDICO


CREATE TABLE MEDICOS (
    ID_MED VARCHAR(50) PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    APELLIDO VARCHAR(100) NOT NULL,
	DOC_IDENTIDAD VARCHAR(100) NOT NULL,
    EDAD VARCHAR(3),
    GENERO VARCHAR(10),
    TELEFONO VARCHAR(15),
    ESPECIALIDAD VARCHAR(100),
    CLAVE VARCHAR(255) NOT NULL
);

DROP TABLE MEDICOS;

INSERT INTO MEDICOS (ID_MED, NOMBRE, APELLIDO, DOC_IDENTIDAD, EDAD, GENERO, TELEFONO, ESPECIALIDAD, CLAVE) VALUES
('MED0001', 'JUAN', 'PEREZ', '12345678', '45', 'MASCULINO', '555-1234', 'CARDIOLOGIA', 'password1'),
('MED0002', 'MARIA', 'GONZALEZ', '87654321', '38', 'FEMENINO', '555-5678', 'NEUROLOGIA', 'password2'),
('MED0003', 'CARLOS', 'RODRIGUEZ', '11223344', '50', 'MASCULINO', '555-9101', 'PEDIATRIA', 'password3'),
('MED0004', 'ANA', 'LOPEZ', '44332211', '43', 'FEMENINO', '555-1122', 'GINECOLOGIA', 'password4'),
('MED0005', 'LUIS', 'MARTINEZ', '55667788', '40', 'MASCULINO', '555-3344', 'DERMATOLOGIA', 'password5');


SELECT * FROM MEDICOS;


CREATE TABLE ADMINISTRADOR (
    ID_ADMIN VARCHAR(50) PRIMARY KEY,
    NOMBRE VARCHAR(100) NOT NULL,
    APELLIDO VARCHAR(100) NOT NULL,
	DOC_IDENTIDAD VARCHAR(100) NOT NULL,
    EDAD VARCHAR(3),
    GENERO VARCHAR(10),
    TELEFONO VARCHAR(15),
    CARGO VARCHAR(100),
    CLAVE VARCHAR(255) NOT NULL
);

INSERT INTO ADMINISTRADOR (ID_ADMIN, NOMBRE, APELLIDO, DOC_IDENTIDAD, EDAD, GENERO, TELEFONO, CARGO, CLAVE) VALUES
('ADMI0001', 'Juan', 'Pérez', '123456789', '35', 'Masculino', '3001234567', 'Gerente', 'clave1'),
('ADMI0002', 'María', 'Gómez', '987654321', '42', 'Femenino', '3007654321', 'Subgerente', 'clave2'),
('ADMI0003', 'Luis', 'Martínez', '112233445', '28', 'Masculino', '3011122334', 'Jefe de Departamento', 'clave3'),
('ADMI0004', 'Ana', 'López', '998877665', '31', 'Femenino', '3029988776', 'Coordinadora', 'clave4'),
('ADMI0005', 'Carlos', 'Rodríguez', '556677889', '45', 'Masculino', '3035566778', 'Director', 'clave5');

-- Actualizar el campo CARGO a "Secretario" para 3 administradores
UPDATE ADMINISTRADOR SET CARGO = 'Secretario' WHERE ID_ADMIN IN ('ADMI0001','ADMI0002','ADMI0003', 'ADMI0004', 'ADMI0005');
UPDATE ADMINISTRADOR SET NOMBRE = 'Laura' WHERE ID_ADMIN IN ('ADMI0002');


SELECT * FROM ADMINISTRADOR

CREATE TABLE RELACION_ADMI_MEDICO (ID_RELACION_ADMED VARCHAR (255) PRIMARY KEY, ID_ADMI VARCHAR (255), ID_MED VARCHAR(255));
SELECT * FROM RELACION_ADMI_MEDICO


CREATE TABLE CITA (
	ID_CITA VARCHAR(255) NOT NULL PRIMARY KEY,
	ID_MED varchar(255) ,
	ID_PAC varchar(255) ,
	FECHA date ,
	HORA_INICIO TIME ,
	HORA_FIN TIME ,
	ESTADO VARCHAR(255)
);
DROP TABLE CITA
SELECT * FROM CITA
SELECT * FROM RELACION_PACIENTE_MEDICO
DELETE FROM CITA WHERE ID_CITA ='CITA0001';

CREATE TABLE PACIENTE_HISTORIA (
	ID_HISTORIA VARCHAR (255) PRIMARY KEY,
    ID_PACIENTE VARCHAR(50),
    EDAD INT,
    GENERO VARCHAR(10),
    PESO FLOAT,
    ALTURA FLOAT,
    IMC FLOAT,
    HISTORIAL_FAMILIAR_OSTEOPOROSIS BIT,
    DENSIDAD_MINERAL_OSEA FLOAT,
    FRACTURAS_PREVIAS BIT,
    ACTIVIDAD_FISICA VARCHAR(255),
    CONSUMO_CALCIO VARCHAR(255),
    CONSUMO_VITAMINA_D VARCHAR(255),
    CONSUMO_ALCOHOL VARCHAR(255),
    CONSUMO_TABACO VARCHAR(255),
    MENOPAUSIA BIT,
    ENFERMEDADES_CRONICAS VARCHAR(255),
    MEDICAMENTOS_ACTUALES VARCHAR(255),
    EDAD_DIAGNOSTICO INT,
    NIVEL_HORMONAS VARCHAR(255),
    SINTOMAS VARCHAR(255),
	--RESULTADOS PRUEBA DE LAB
	IMG_DIAGNOSTICA VARCHAR (255),
	CALCIO FLOAT,
	VITAMINAD FLOAT,
	FOSF FLOAT,
    TRATAMIENTOS_RECIBIDOS VARCHAR(255),
    ESTADO_SALUD_GENERAL VARCHAR(255),
    HABITOS_ALIMENTICIOS VARCHAR(255),
    ANTECEDENTES_QUIRURGICOS VARCHAR(255),
    NACIONALIDAD_ETNIA VARCHAR(255),
    TENER_OSTEOPOROSIS BIT
);
 SELECT * FROM PACIENTE_HISTORIA
 DROP TABLE PACIENTE_HISTORIA


